## Keywords
* IEnumerable<int>
* Enumerable.Range(x, y)
* Where
* Select
* OrderBy
* ThenBy
* ToArray 
* ToList
* Aggregate((acc,next)=>acc+", "+next)
<hr>

## 1. ToArray, ToList
```c# =
using ConsoleApp4.EFModels;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApp4
{
    internal class Read
    {
        static void Main(string[] args)
        {
            EStoreDdContext db = new EStoreDdContext();//EF method
            var data = db.News;//to dump all data into "data"
            var filted = data.Where(x => x.Id <= 5);//Select
            var sorted = filted.OrderBy(x => x.Id);//Order
            foreach (var item in sorted)//Read all items
            {
                Console.WriteLine(item.Id);
            }
            Console.WriteLine("*****");

            IEnumerable<int> data2 = Enumerable.Range(1, 10);

            int[] result = data2.ToArray();//IEnumerable<int > to int[]
            foreach (var item in result)
            {
                Console.WriteLine(item);
            }
            Console.WriteLine("*****");

            List<int> result2 = data2.ToList();//IEnumerable<int > to List<int>
            foreach (var item in result2)
            {
                Console.WriteLine(item);
            }
        }
    }
}
```

## 2. Where, Select
```c# =
using ConsoleApp4.EFModels;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApp4
{
    internal class Program
    {
        /// <summary>
        /// Select => For Mappinp
        /// Where  => For Filtering
        /// </summary>
        static void Main(string[] args)
        {
            IEnumerable<int> items = Enumerable.Range(0, 10);
            //IEnumerable<string> result = items.Select(x => "No." + x.ToString("000"));//No.000
            IEnumerable<string> result = items.Select(x => $"No.{x:00}");//No.00
            foreach (var item in result)
            {
                Console.WriteLine(item);
                /*
                No.00
                No.01
                No.02
                No.03
                No.04
                No.05
                No.06
                No.07
                No.08
                No.09
                */
            }

            IEnumerable<int> items2 = Enumerable.Range(0, 10);
            var query = items2
                        .Where(x => x % 4 == 0)
                        .Select(x => new Country { Id = x, Name = "This is Country No." + x });

            foreach (var item in query)
            {
                Console.WriteLine(item.ToString());
                /*
                ID: 0, Name: This is Country No.0
                ID: 4, Name: This is Country No.4
                ID: 8, Name: This is Country No.8
                */
            }

            var query2 = items.Where(value => value % 3 == 0);//This row is as same as below comments.
            //var query2 = items.Where(IsMatch);
            //bool IsMatch(int value)
            //{
            //    if(value % 3 == 0)
            //    {
            //        return true;
            //    }
            //    else
            //    {
            //        return false;
            //    }
            //}
        }

        public class Country
        {
            public int Id { get; set; }
            public string Name { get; set; }

            public override string ToString()//Use "Override" to amend the contents of the original "ToString()" method.
            {
                return $"ID: {Id}, Name: {Name}";
            }
        }
    }
}
```

## 3. OrderBy, ThenBy
```c# =
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApp5
{
    internal class Program
    {
        /// <summary>
        ///"ThenBy" should be placed after "OrderBy"
        /// </summary>
        static void Main(string[] args)
        {
            string[] source = new string[] { "ZBC", "A", "ABC", "ASDSADSDA", };
            var query = source.Select(x => x.Length);
            foreach(var item in query)
            {
                Console.WriteLine(item);//3, 1, 3, 9
            }

            var query2 = source.OrderBy(x => x.Length);
            foreach (var item in query2)
            {
                Console.WriteLine(item);
                /*
                A 
                ZBC
                ABC
                ASDSADSDA
                */
            }

            query2 = source
                    .OrderBy(x => x.Length)//order by length first
                    .ThenBy(x => x);//if two items have the same length, then to order by their first character
            foreach (var item in query2)
            {
                Console.WriteLine(item);
                /*
                A
                ABC
                ZBC
                ASDSADSDA
                */
            }
        }
    }
}

```

4. Aggregate((acc,next)=>acc+", "+next)
```C# =
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApp7
{
    internal class Aggregate
    {
        /// <summary>
        /// .Aggregate((acc,next)=>acc+", "+next)
        /// </summary>
        /// <param name="args"></param>
        static void Main(string[] args)
        {
            string[] items = {"A","B","C","D","E" };
            string result = items.Aggregate((acc,next)=>acc+", "+next);//this LINQ statement works as same as below foreach loop
            Console.WriteLine(result);
            //string result2 = string.Empty;
            //foreach(var item in items)
            //{
            //    result2 = result2 + ", " + item;
            //}
            //Console.WriteLine(result2);


        }
    }
}
```
## 5. LINQ Query Syntax(LINQ查詢語法)
```C# =
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LINQ
{
    internal class Program
    {

        static void Main(string[] args)
        {
            List<Book> books = new List<Book>
            {
                new Book("ASP.NET立即上手", 1, 620),
                new Book("聖經", 4, 160),
                new Book("食譜", 2, 88),
                new Book("旅遊日誌", 3, 238),
                new Book("Javascript從入門到放棄", 1, 228),
                new Book("Willy在哪裡?", 3, 900)
            };

            List<Category> categories = new List<Category>
            {
                new Category{Id = 1, CategoryName ="程式"},
                new Category{Id = 2, CategoryName ="飲食"},
                new Category{Id = 3, CategoryName ="旅遊"},
                new Category{Id = 4, CategoryName ="宗教"}
            };

            //LINQ Query Syntax(LINQ查詢語法)
            var query = (from book in books
                         join category in categories on book.CategoryId equals category.Id
                         select new BookResult { Name = book.Name, CategoryName = category.CategoryName, Price = book.UnitPrice})
                         .ToList();
            foreach (var item in query)
            {
                Console.WriteLine(item);
                //書名: ASP.NET立即上手           , 價錢: 620             , 類別: 程式
                //書名: 聖經              , 價錢: 160             , 類別: 宗教
                //書名: 食譜              , 價錢: 88              , 類別: 飲食
                //書名: 旅遊日誌                  , 價錢: 238             , 類別: 旅遊
                //書名: Javascript從入門到放棄    , 價錢: 228             , 類別: 程式
                //書名: Willy在哪裡 ?              , 價錢: 900             , 類別: 旅遊
            }
        }
        class BookResult
        {
            public string Name { get; set; }
            public string CategoryName { get; set; }
            public int Price { get; set; }
            public override string ToString()
            {
                return $"書名: {Name,-15}\t, 價錢: {Price, -15}\t, 類別: {CategoryName}";//-15 > 空格寬度;\t >  水平方向tab
            }
        }
        class Book
        {
            public string Name { get; set; }
            public int CategoryId { get; set; }
            public int UnitPrice { get; set; }
            public Book(string name, int categoryId, int unirPrice)//建構子 > 驗證輸入的內容是否符合格式
            {
                this.Name = name;
                this.CategoryId = categoryId;
                this.UnitPrice = unirPrice;
            }
        }
        class Category
        {
            public int Id { get; set; }
            public string CategoryName { get; set; }
        }
    }
}
```
